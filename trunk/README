Balbec

Nagios visualization tool.

2010 Magnus Kulke

Requirements:

- nagios
- python 2.4+
- python-lxml

Optional (when Balbec is not installed on the Nagios host):

- mod-wsgi for apache (when using apache, configuration example in "apache/")
- ndo2db with mysql (see the documentation included in ndoutils on how to set up NDO)
- python-mysql

Installation:

- Standalone:

 - Move all files and directories to "/opt/balbec".	
 - Create a "balbec" link to the "src/" directory ("ln -s /opt/balbec/src /opt/balbec/balbec").
 - Run "server.py" in "/opt/balbec" ("cd /opt/balbec && python /opt/balbec/server.py").

- Apache:

 - If not yet present add a wsgi option "WSGIPythonPath /opt/wsgi" to the apache configuration.
 - Create a "balbec" link to the "src/" directory in your wsgi directory ("ln -s /opt/balbec/src /opt/wsgi/balbec").
 - Move all files in "src/" to "/opt/wsgi/balbec".
 - Move "balbec.wsgi", "config.xml", "xslt/" & "schema/" to "/opt/balbec".
 - Adjust settings in "config.xml".

Configuration:

- see example config.xml file.
- a map includes several hostgroups and optionalal several filter hostgroups.
- setting the filter attribute "revert" to "true", makes the result include only the hosts in the filter hostgroups, by default those are filtered out.
- reverted filters are combined using "or", normal filters with "and".  

Usage:

Use the browser to view the maps in html ("Accept: text/html" in the header) or use xml for further processing: "curl -s http://balbec". 
The standalone version is running on port 8100 ("http://balbec:8100") by default. You can edit the "PORT" variable in "server.py" to modify the port.